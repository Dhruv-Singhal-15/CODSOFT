<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Register</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>

<body>
    {% from "includes/formhelpers.html" import render_field %}

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <ul class="flashes">
        {% for category, message in messages %}
        <li class="{{ category }}">{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}

    <a href="{{ url_for('index') }}">Home</a>
    <hr>
    <h1><strong>Register</strong></h1>
    <form method="POST">
        {{ render_field(form.name) }}
        {{ render_field(form.username) }}
        {{ render_field(form.email) }}
        {{ render_field(form.password) }}
        {{ render_field(form.confirm) }}
        <button type="submit">Register</button>
    </form>
    <a href="/login">Already have an account? Login here</a>

    <script>
        setTimeout(function () {
            var flashes = document.querySelector('.flashes');
            if (flashes) {
                flashes.remove();
            }
        }, 2000); 
    </script>

</body>

</html>